{"version":3,"sources":["src__umi_plugin-layout_Layout_tsx-async.3335028598888816531.hot-update.js","src/.umi/plugin-layout/Layout.tsx","src/.umi/plugin-layout/Logo.tsx"],"sourcesContent":["globalThis.makoModuleHotUpdate(\n  'src/.umi/plugin-layout/Layout.tsx',\n  {\n    modules: {},\n  },\n  function (runtime) {\n    runtime._h='7185875862781996500';\nruntime.updateEnsure2Map({\"src/.umi/core/EmptyRoute.tsx\":[\"src/.umi/core/EmptyRoute.tsx\"],\"src/.umi/plugin-layout/Layout.tsx\":[\"src/.umi/plugin-layout/Layout.tsx\"],\"src/.umi/plugin-openapi/openapi.tsx\":[\"src/.umi/plugin-openapi/openapi.tsx\",\"vendors\"],\"src/pages/404.tsx\":[\"p__404\"],\"src/pages/TableList/index.tsx\":[\"p__TableList__index\"],\"src/pages/User/Login/index.tsx\":[\"p__User__Login__index\"],\"src/pages/Welcome.tsx\":[\"p__Welcome\"]});;\n  },\n);\n","// @ts-nocheck\n// This file is generated by Umi automatically\n// DO NOT CHANGE IT MANUALLY!\n/// <reference types=\"@ant-design/pro-components\" />\n/// <reference types=\"antd\" />\n\nimport {\n  Link, useLocation, useNavigate, Outlet, useAppData, matchRoutes,\n  type IRoute\n} from '@umijs/max';\nimport React, { useMemo } from 'react';\nimport {\n  ProLayout,\n} from \"/Users/zhangqiang/Documents/GitHub/antd-pro-v6-project/node_modules/@ant-design/pro-components\";\nimport './Layout.css';\nimport Logo from './Logo';\nimport Exception from './Exception';\nimport { getRightRenderContent } from './rightRender';\nimport { useModel } from '@@/plugin-model';\nimport { useAccessMarkedRoutes } from '@@/plugin-access';\nimport { useIntl } from '@@/plugin-locale';\n\n// 过滤出需要显示的路由, 这里的filterFn 指 不希望显示的层级\nconst filterRoutes = (routes: IRoute[], filterFn: (route: IRoute) => boolean) => {\n  if (routes.length === 0) {\n    return []\n  }\n\n  let newRoutes = []\n  for (const route of routes) {\n    const newRoute = { ...route };\n    if (filterFn(route)) {\n      if (Array.isArray(newRoute.routes)) {\n        newRoutes.push(...filterRoutes(newRoute.routes, filterFn))\n      }\n    } else {\n      if (Array.isArray(newRoute.children)) {\n        newRoute.children = filterRoutes(newRoute.children, filterFn);\n        newRoute.routes = newRoute.children;\n      }\n      newRoutes.push(newRoute);\n    }\n  }\n\n  return newRoutes;\n}\n\n// 格式化路由 处理因 wrapper 导致的 菜单 path 不一致\nconst mapRoutes = (routes: IRoute[]) => {\n  if (routes.length === 0) {\n    return []\n  }\n  return routes.map(route => {\n    // 需要 copy 一份, 否则会污染原始数据\n    const newRoute = { ...route }\n    if (route.originPath) {\n      newRoute.path = route.originPath\n    }\n\n    if (Array.isArray(route.routes)) {\n      newRoute.routes = mapRoutes(route.routes);\n    }\n\n    if (Array.isArray(route.children)) {\n      newRoute.children = mapRoutes(route.children);\n    }\n\n    return newRoute\n  })\n}\n\nexport default (props: any) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { clientRoutes, pluginManager } = useAppData();\n  const initialInfo = (useModel && useModel('@@initialState')) || {\n    initialState: undefined,\n    loading: false,\n    setInitialState: null,\n  };\n  const { initialState, loading, setInitialState } = initialInfo;\n  const userConfig = {\n    \"locale\": true,\n    \"navTheme\": \"light\",\n    \"colorPrimary\": \"#1890ff\",\n    \"layout\": \"mix\",\n    \"contentWidth\": \"Fluid\",\n    \"fixedHeader\": false,\n    \"fixSiderbar\": true,\n    \"colorWeak\": false,\n    \"title\": \"淘小宝\",\n    \"pwa\": true,\n    \"logo\": \"./public/logo.svg\",\n    \"iconfontUrl\": \"\",\n    \"token\": {}\n  };\n  const { formatMessage } = useIntl();\n  const runtimeConfig = pluginManager.applyPlugins({\n    key: 'layout',\n    type: 'modify',\n    initialValue: {\n      ...initialInfo\n    },\n  });\n\n\n  // 现在的 layout 及 wrapper 实现是通过父路由的形式实现的, 会导致路由数据多了冗余层级, proLayout 消费时, 无法正确展示菜单, 这里对冗余数据进行过滤操作\n  const newRoutes = filterRoutes(clientRoutes.filter(route => route.id === 'ant-design-pro-layout'), (route) => {\n    return (!!route.isLayout && route.id !== 'ant-design-pro-layout') || !!route.isWrapper;\n  })\n  const [route] = useAccessMarkedRoutes(mapRoutes(newRoutes));\n\n  const matchedRoute = useMemo(() => matchRoutes(route.children, location.pathname)?.pop?.()?.route, [location.pathname]);\n\n  return (\n    <ProLayout\n      route={route}\n      location={location}\n      title={userConfig.title || 'ant-design-pro'}\n      navTheme=\"dark\"\n      siderWidth={256}\n      onMenuHeaderClick={(e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        navigate('/');\n      }}\n      formatMessage={userConfig.formatMessage || formatMessage}\n      menu={{ locale: userConfig.locale }}\n      logo={Logo}\n      menuItemRender={(menuItemProps, defaultDom) => {\n        if (menuItemProps.isUrl || menuItemProps.children) {\n          return defaultDom;\n        }\n        if (menuItemProps.path && location.pathname !== menuItemProps.path) {\n          return (\n            // handle wildcard route path, for example /slave/* from qiankun\n            <Link to={menuItemProps.path.replace('/*', '')} target={menuItemProps.target}>\n              {defaultDom}\n            </Link>\n          );\n        }\n        return defaultDom;\n      }}\n      itemRender={(route, _, routes) => {\n        const { breadcrumbName, title, path } = route;\n        const label = title || breadcrumbName\n        const last = routes[routes.length - 1]\n        if (last) {\n          if (last.path === path || last.linkPath === path) {\n            return <span>{label}</span>;\n          }\n        }\n        return <Link to={path}>{label}</Link>;\n      }}\n      disableContentMargin\n      fixSiderbar\n      fixedHeader\n      {...runtimeConfig}\n      rightContentRender={\n        runtimeConfig.rightContentRender !== false &&\n        ((layoutProps) => {\n          const dom = getRightRenderContent({\n            runtimeConfig,\n            loading,\n            initialState,\n            setInitialState,\n          });\n          if (runtimeConfig.rightContentRender) {\n            return runtimeConfig.rightContentRender(layoutProps, dom, {\n              // BREAK CHANGE userConfig > runtimeConfig\n              userConfig,\n              runtimeConfig,\n              loading,\n              initialState,\n              setInitialState,\n            });\n          }\n          return dom;\n        })\n      }\n    >\n      <Exception\n        route={matchedRoute}\n        noFound={runtimeConfig?.noFound}\n        notFound={runtimeConfig?.notFound}\n        unAccessible={runtimeConfig?.unAccessible}\n        noAccessible={runtimeConfig?.noAccessible}\n      >\n        {runtimeConfig.childrenRender\n          ? runtimeConfig.childrenRender(<Outlet />, props)\n          : <Outlet />\n        }\n      </Exception>\n    </ProLayout>\n  );\n}\n","// @ts-nocheck\n// This file is generated by Umi automatically\n// DO NOT CHANGE IT MANUALLY!\nimport React from 'react';\n\nconst LogoIcon: React.FC = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 200 200\"\n    >\n      <defs>\n        <linearGradient\n          id=\"linearGradient-1\"\n          x1=\"62.102%\"\n          x2=\"108.197%\"\n          y1=\"0%\"\n          y2=\"37.864%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#4285EB\"></stop>\n          <stop offset=\"100%\" stopColor=\"#2EC7FF\"></stop>\n        </linearGradient>\n        <linearGradient\n          id=\"linearGradient-2\"\n          x1=\"69.644%\"\n          x2=\"54.043%\"\n          y1=\"0%\"\n          y2=\"108.457%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#29CDFF\"></stop>\n          <stop offset=\"37.86%\" stopColor=\"#148EFF\"></stop>\n          <stop offset=\"100%\" stopColor=\"#0A60FF\"></stop>\n        </linearGradient>\n        <linearGradient\n          id=\"linearGradient-3\"\n          x1=\"69.691%\"\n          x2=\"16.723%\"\n          y1=\"-12.974%\"\n          y2=\"117.391%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#FA816E\"></stop>\n          <stop offset=\"41.473%\" stopColor=\"#F74A5C\"></stop>\n          <stop offset=\"100%\" stopColor=\"#F51D2C\"></stop>\n        </linearGradient>\n        <linearGradient\n          id=\"linearGradient-4\"\n          x1=\"68.128%\"\n          x2=\"30.44%\"\n          y1=\"-35.691%\"\n          y2=\"114.943%\"\n        >\n          <stop offset=\"0%\" stopColor=\"#FA8E7D\"></stop>\n          <stop offset=\"51.264%\" stopColor=\"#F74A5C\"></stop>\n          <stop offset=\"100%\" stopColor=\"#F51D2C\"></stop>\n        </linearGradient>\n      </defs>\n      <g fill=\"none\" fillRule=\"evenodd\" stroke=\"none\" strokeWidth=\"1\">\n        <g transform=\"translate(-20 -20)\">\n          <g transform=\"translate(20 20)\">\n            <g>\n              <g fillRule=\"nonzero\">\n                <g>\n                  <path\n                    fill=\"url(#linearGradient-1)\"\n                    d=\"M91.588 4.177L4.18 91.513a11.981 11.981 0 000 16.974l87.408 87.336a12.005 12.005 0 0016.989 0l36.648-36.618c4.209-4.205 4.209-11.023 0-15.228-4.208-4.205-11.031-4.205-15.24 0l-27.783 27.76c-1.17 1.169-2.945 1.169-4.114 0l-69.802-69.744c-1.17-1.169-1.17-2.942 0-4.11l69.802-69.745c1.17-1.169 2.944-1.169 4.114 0l27.783 27.76c4.209 4.205 11.032 4.205 15.24 0 4.209-4.205 4.209-11.022 0-15.227L108.581 4.056c-4.719-4.594-12.312-4.557-16.993.12z\"\n                  ></path>\n                  <path\n                    fill=\"url(#linearGradient-2)\"\n                    d=\"M91.588 4.177L4.18 91.513a11.981 11.981 0 000 16.974l87.408 87.336a12.005 12.005 0 0016.989 0l36.648-36.618c4.209-4.205 4.209-11.023 0-15.228-4.208-4.205-11.031-4.205-15.24 0l-27.783 27.76c-1.17 1.169-2.945 1.169-4.114 0l-69.802-69.744c-1.17-1.169-1.17-2.942 0-4.11l69.802-69.745c2.912-2.51 7.664-7.596 14.642-8.786 5.186-.883 10.855 1.062 17.009 5.837L108.58 4.056c-4.719-4.594-12.312-4.557-16.993.12z\"\n                  ></path>\n                </g>\n                <path\n                  fill=\"url(#linearGradient-3)\"\n                  d=\"M153.686 135.855c4.208 4.205 11.031 4.205 15.24 0l27.034-27.012c4.7-4.696 4.7-12.28 0-16.974l-27.27-27.15c-4.218-4.2-11.043-4.195-15.254.013-4.209 4.205-4.209 11.022 0 15.227l18.418 18.403c1.17 1.169 1.17 2.943 0 4.111l-18.168 18.154c-4.209 4.205-4.209 11.023 0 15.228z\"\n                ></path>\n              </g>\n              <ellipse\n                cx=\"100.519\"\n                cy=\"100.437\"\n                fill=\"url(#linearGradient-4)\"\n                rx=\"23.6\"\n                ry=\"23.581\"\n              ></ellipse>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n};\n\nexport default LogoIcon;\n"],"names":[],"mappings":"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"}